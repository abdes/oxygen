cc_library(
    name = "sdl3",
    includes = ["include"],
    strip_include_prefix = "include",  # workaround: only needed on some macOS systems (see https://github.com/bazelbuild/bazel-central-registry/issues/1537)
    visibility = ["//visibility:public"],
    deps = [":sdl3_lib"],
)

cc_import(
    name = "sdl3_lib",
    hdrs = glob(["include/SDL3/*.h"]),
    # SDL3.lib is an import library for SDL3.dll which will be passed to linker
    interface_library = "lib/x64/SDL3.lib",
    # mylib.dll will be available for runtime
    shared_library = "lib/x64/SDL3.dll",
    visibility = ["//visibility:public"],
)
